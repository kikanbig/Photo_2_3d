# Инструкция по запуску приложения Photo to 3D

## 1. Локальный запуск

### Необходимые требования
- Node.js (версия 18 или выше)
- npm (версия 8 или выше)
- Git

### Шаги для запуска

#### 1.1. Клонирование репозитория
```bash
git clone https://github.com/kikanbig/Photo_2_3d.git
cd Photo_2_3d
```

#### 1.2. Настройка бэкенда
```bash
cd backend
npm install

# Создайте файл .env с необходимыми переменными окружения
echo "GENAPI_API_KEY=ваш_api_ключ_от_GenAPI" > .env
echo "PORT=3001" >> .env
echo "UPLOAD_DIR=uploads" >> .env
echo "MAX_FILE_SIZE=10485760" >> .env
echo "FRONTEND_URL=http://localhost:3000" >> .env

# Запуск бэкенда
npm start
```

#### 1.3. Настройка фронтенда (в новом терминале)
```bash
cd frontend
npm install

# Создайте файл .env с адресом бэкенда
echo "REACT_APP_BACKEND_URL=http://localhost:3001" > .env

# Запуск фронтенда
npm start
```

#### 1.4. Доступ к приложению
После запуска фронтенд будет доступен по адресу: `http://localhost:3000`
Бэкенд API будет доступен по адресу: `http://localhost:3001`

## 2. Доступ к развернутому приложению на Railway

### 2.1. URL приложения
Приложение доступно по следующему URL:
```
https://photo-2-3d-production.up.railway.app/
```

### 2.2. Использование приложения
1. Откройте URL приложения в браузере
2. Загрузите фотографию, нажав на область загрузки или перетащив файл
3. Нажмите кнопку "Сгенерировать 3D модель"
4. Дождитесь завершения генерации (это может занять некоторое время)
5. После успешной генерации вы увидите 3D модель, которую можно вращать, масштабировать и перемещать
6. Для скачивания модели используйте кнопку "Скачать"

## 3. Решение проблем

### 3.1. Проблемы с локальным запуском
- Убедитесь, что порты 3000 и 3001 не заняты другими приложениями
- Проверьте правильность API ключа GenAPI в файле .env
- Убедитесь, что в директории backend/uploads есть права на запись

### 3.2. Проблемы с отображением 3D модели
- Убедитесь, что ваш браузер поддерживает WebGL (можно проверить на https://get.webgl.org/)
- Попробуйте использовать другой браузер (Chrome, Firefox, Edge)
- Проверьте, что у вас включены JavaScript и WebGL в настройках браузера

### 3.3. Проблемы с генерацией модели
- Убедитесь, что загружаемое изображение имеет хорошее качество и четкие контуры объекта
- Размер изображения не должен превышать 10 МБ
- Поддерживаемые форматы: JPEG, PNG, GIF, WebP

## 4. Дополнительная информация

### 4.1. Технический стек
- Фронтенд: React, Three.js (@react-three/fiber, @react-three/drei)
- Бэкенд: Node.js, Express
- API для генерации 3D моделей: GenAPI (Trellis)
- Деплой: Railway, Docker

### 4.2. Структура проекта
- `/frontend` - React приложение
- `/backend` - Express сервер
- `/backend/services` - Сервисы для работы с API
- `/backend/routes` - API маршруты
- `/backend/uploads` - Директория для загруженных файлов и результатов

### 4.3. Контакты для поддержки
При возникновении проблем с приложением, пожалуйста, создайте issue в репозитории GitHub:
https://github.com/kikanbig/Photo_2_3d/issues